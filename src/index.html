<!DOCTYPE html>
<html dir="ltr" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0"
    />
    <title>Stencil Component Starter</title>
    <link rel="stylesheet" href="/build/hellotars-pizza.css" />

    <script type="module" src="/build/hellotars-pizza.esm.js"></script>
    <script nomodule src="/build/hellotars-pizza.js"></script>
  </head>
  <style>
    body {
      height: 100vh;
      display: flex;

      padding: 0;
      margin: 0;
    }

    .wrapper {
      flex-grow: 1;

      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;

      background: var(--background-button);
      color: var(--color);
    }
  </style>

  <body>
    <div id="root" class="wrapper">
      <!--       firs class-->
      <!--      <tars-counter id="tars-counter" initial-value="23"></tars-counter>-->
      <!--      <button id="button-native" onclick="onClicked()">RESET</button>-->

      <!-- second class -->
      <tars-input-password id="input-password" placeholder="Password">
        <p id="message"></p>
      </tars-input-password>
    </div>

    <script>
      // first class
      // const button = document.getElementById('button-native');

      // Disparar event.
      // function onClicked() {
      //   button.dispatchEvent(new Event('clicked', { bubbles: true }));
      // }
      // setTimeout(() => (document.getElementById('tars-counter').initialValue = 4), 2000);
      // end first class

      async function loadCustomElements() {
        await customElements.whenDefined('tars-input-password');

        const wrapper = document.querySelector('tars-input-password');
        const message = document.getElementById('message');
        wrapper.getValue().then(console.log);

        wrapper.addEventListener('showPassword', ({ detail: isOpenEye }) => {
          return (message.innerText = isOpenEye ? 'attention! Your password is visible' : '');
        });
      }

      loadCustomElements();
    </script>
  </body>
</html>
